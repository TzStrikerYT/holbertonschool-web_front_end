<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Task 0</title>
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.js"
      integrity="sha256-DrT5NfxfbHvMHux31Lkhxg42LY6of8TaYyK50jnxRnM="
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <script type="application/javascript">
      function createFamilyTree() {
        $("body").append(
          $("<table></table>").append(
            $("<thead></thead>").append(
              $("<tr></tr>").append("<th>Firstname</th>", "<th>Lastname</th>")
            ),
            $("<tbody></tbody>")
          )
        );
      }

      function addNewMember(firstName, lastName, position) {
        if (position === "before") {
          $("tbody").prepend(
            $("<tr></tr>").append(
              `<td>${firstName}</td>`,
              `<td>${lastName}</td>`,
              $(`<td class="orange">(x)</td>`).click(function () {
                $(this).parent().empty().remove();
              })
            )
          );
        } else {
          $("tbody").append(
            $("<tr></tr>").append(
              `<td>${firstName}</td>`,
              `<td>${lastName}</td>`,
              $(`<td class="orange">(x)</td>`).click(function () {
                $(this).parent().empty().remove();
              })
            )
          );
        }
        $(".orange").css("background-color", "orange");
      }

      function createForm() {
        $("body").prepend(
          "<input type='text' class='i1'></input>",
          "<input type='text' class='i2'></input>",
          $("<select></select>").append(
            "<option value='before'>before</option>",
            "<option value='after'>after</option>"
          ),
          $("<input type='submit'></input>").click(function(){
            addNewMember($(".i1").val(), $(".i2").val(), $("select").val())
          })
        );
      }

      createFamilyTree();
      createForm();
    </script>
  </body>
</html>